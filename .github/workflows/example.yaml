name: test
on:
  push:
    branches:
      - main
      - test
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Python
        id: python
        uses: actions/setup-python@v5
        with:
          python-version: "3.12"
      - name: Add pipx to PATH
        if: github.actor == 'nektos/act'
        run: echo "/root/.local/bin" >> ${GITHUB_PATH}
      - name: Install Python Package
        run: pipx install .
        env:
          PIPX_DEFAULT_PYTHON: ${{ steps.python.outputs.python-path }}
      - name: Test CLI
        run: example
